{"title":"ESP32 and SHT31 Sensor Tutorial","markdown":{"yaml":{"title":"ESP32 and SHT31 Sensor Tutorial","categories":["arduino"],"echo":false,"jupyter":"python3"},"headingText":"Introduction","containsRefs":false,"markdown":"\n\n\nIn this tutorial, we will learn how to use the ESP32 microcontroller with the SHT31 temperature and humidity sensor. We will cover the basics of the sensor, including how it works and how to connect it to an ESP32. We will also learn how to use the Adafruit_SHT31 library to read temperature and humidity values from the sensor. By the end of this tutorial, you will be able to build your own ESP32 and SHT31-based projects.\n\n## SHT31 Sensor\n\nThe SHT31 is a high-precision temperature and humidity sensor that can be used in a wide range of applications. It measures temperature and humidity using a capacitive humidity sensor and a band-gap temperature sensor. It has a wide measurement range of -40°C to 125°C for temperature and 0-100% for relative humidity. The SHT31 is a digital sensor, which means it communicates with the microcontroller over a digital interface. See more details on the [Adafruit's github page for the SHT31](https://github.com/adafruit/Adafruit_SHT31\n) and full specs on the [SHT31 datasheet](https://www.mouser.com/datasheet/2/682/Sensirion_Humidity_Sensors_SHT3x_Datasheet_digital-971521.pdf).\n\n\n## Libraries\n\nTo use the SHT31 sensor with an ESP32 microcontroller, we will need to use the Adafruit_SHT31 library. This library is specifically designed to work with the SHT31 sensor and makes it easy to read temperature and humidity values from the sensor.\n\nTo install the library, follow these steps:\n\n1. Open the Arduino IDE\n2. Go to **Sketch > Include Library > Manage Libraries**\n3. Search for \"Adafruit_SHT31\" and click the **Install** button\n4. Wait for the library to install\n\n## Wiring\n\nTo connect the SHT31 sensor to the ESP32 microcontroller, we will need to use four wires: VCC, GND, SDA, and SCL. Here is a table that shows how to connect the wires:\n\n| SHT31 Pin | ESP32 Pin |\n|-----------|-----------|\n| VCC       | 3V3       |\n| GND       | GND       |\n| SDA       | GPIO21    |\n| SCL       | GPIO22    |\n\n**Note:** The ESP32's 3V3 pin provides 3.3 volts of power, which is the correct voltage for the SHT31 sensor. Do not use the 5V pin, as it will damage the sensor.\n\n## Code\n\nHere is the code for reading temperature and humidity values from the SHT31 sensor:\n\n```c++\n#include <Arduino.h>   // Include the Arduino library\n#include <Wire.h>      // Include the Wire library for I2C communication\n#include \"Adafruit_SHT31.h\" // Include the SHT31 library from Adafruit\n\nAdafruit_SHT31 sht31 = Adafruit_SHT31(); // Create an instance of the SHT31 object\n\nvoid setup() {\n  Serial.begin(112500);   // Initialize the serial communication with a baud rate of 112500\n  if (! sht31.begin(0x44)) {  // Check if SHT31 is connected and start it with address 0x44\n    Serial.println(\"Couldn't find SHT31\"); // Print an error message if SHT31 is not found\n    while (1) delay(1);  // Wait indefinitely\n  }\n}\n\nvoid loop() {\n  float t = sht31.readTemperature(); // Read temperature from SHT31 and store it in t variable\n  float h = sht31.readHumidity();    // Read humidity from SHT31 and store it in h variable\n\n  if (! isnan(t)) {             // Check if t is not NaN (not a number)\n    Serial.print(\"Temp *C = \"); // Print temperature label\n    Serial.println(t);          // Print temperature value\n  } \n  else {\n    Serial.println(\"Failed to read temperature\"); // Print an error message if temperature reading fails\n  }\n\n  if (! isnan(h)) {              // Check if h is not NaN (not a number)\n    Serial.print(\"Hum. % = \");  // Print humidity label\n    Serial.println(h);           // Print humidity value\n  } \n  else {\n    Serial.println(\"Failed to read humidity\");  // Print an error message if humidity reading fails\n  }\n\n  Serial.println();    // Print a blank line\n  delay(1000);         // Delay for 1 second\n}\n```"},"formats":{"html":{"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":false,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"jupyter"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","include-before-body":["../../_custom_header.html"],"css":["../../custom.scss"],"highlight-style":"breezedark","output-file":"SHT31.html"},"language":{},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.2.335","theme":["flatly","../../custom.scss"],"title-block-banner":true,"title":"ESP32 and SHT31 Sensor Tutorial","categories":["arduino"],"jupyter":"python3"},"extensions":{"book":{"multiFile":true}}}}}